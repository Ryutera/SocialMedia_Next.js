(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{982:(e,t,a)=>{"use strict";a.d(t,{A:()=>o,AuthProvider:()=>i});var l=a(5155),s=a(2115),r=a(4205);let n=s.createContext({user:null,login:()=>{},logout:()=>{}}),o=()=>(0,s.useContext)(n),i=e=>{let{children:t}=e,[a,o]=(0,s.useState)(null);(0,s.useEffect)(()=>{let e=localStorage.getItem("auth_token");e&&(r.A.defaults.headers.Authorization="Bearer ".concat(e),r.A.get("/user/find").then(e=>{o(e.data.user)}).catch(e=>{console.log(e)}))},[]);let i=async e=>{localStorage.setItem("auth_token",e),r.A.defaults.headers.Authorization="Bearer ".concat(e),r.A.get("/users/find").then(e=>{o(e.data.user)}).catch(e=>{console.log(e)})};return(0,l.jsx)(n.Provider,{value:{login:i,logout:()=>{localStorage.removeItem("auth_token"),o(null),delete r.A.defaults.headers.Authorization},user:a},children:t})}},4205:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=a(3464).A.create({baseURL:"http://localhost:5000/api",headers:{"Content-Type":"application/json"}})},4881:(e,t,a)=>{Promise.resolve().then(a.bind(a,8657)),Promise.resolve().then(a.bind(a,982)),Promise.resolve().then(a.t.bind(a,5688,23)),Promise.resolve().then(a.t.bind(a,9432,23)),Promise.resolve().then(a.t.bind(a,9324,23))},5688:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_4d318d",variable:"__variable_4d318d"}},8657:(e,t,a)=>{"use strict";a.d(t,{default:()=>o});var l=a(5155),s=a(6874),r=a.n(s);a(2115);var n=a(982);let o=()=>{let{user:e,logout:t}=(0,n.A)();return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("header",{className:"bg-gray-700 p-4 text-white",children:(0,l.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[(0,l.jsx)("h1",{className:"font-semibold text-xl",children:(0,l.jsx)(r(),{href:"/",children:"SNS Clone"})}),(0,l.jsx)("nav",{children:(0,l.jsx)("ul",{className:"flex space-x-4",children:e?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r(),{href:"/profile/".concat(e.id),className:"bg-white text-gray-900 py-2 px-3 rounded-lg font-medium",children:"Profile"}),(0,l.jsx)("button",{onClick:t,className:"bg-white text-gray-900 py-2 px-3 rounded-lg font-medium",children:"Logout"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r(),{href:"/login",className:"bg-white text-gray-900 py-2 px-3 rounded-lg font-medium",children:"Login"}),(0,l.jsx)(r(),{href:"/signup",className:"bg-white text-gray-900 py-2 px-3 rounded-lg font-medium",children:"Signup"})]})})})]})})})}},9324:()=>{},9432:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_ea5f4b",variable:"__variable_ea5f4b"}}},e=>{var t=t=>e(e.s=t);e.O(0,[261,464,874,441,684,358],()=>t(4881)),_N_E=e.O()}]);