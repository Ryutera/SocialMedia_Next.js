(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4205:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=s(3464).A.create({baseURL:"http://localhost:5000/api",headers:{"Content-Type":"application/json"}})},4311:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var a=s(5155),r=s(2115),l=s(6874),n=s.n(l);let o=e=>{var t,s;let{post:r}=e;return console.log(r.author.profile),(0,a.jsx)("div",{className:"bg-white shadow-md rounded p-4 mb-4",children:(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[(0,a.jsx)(n(),{href:"/profile/".concat(r.authorId),children:(0,a.jsx)("img",{className:"w-10 h-10 rounded-full mr-2 cursor-pointer",src:null==(t=r.author.profile)?void 0:t.profileImageUrl,alt:"User Avatar"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"font-semibold text-md",children:null==(s=r.author)?void 0:s.username}),(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:new Date(r.createdAt).toLocaleString()})]})]}),(0,a.jsx)("p",{className:"text-gray-700",children:r.content})]})})};var c=s(4205);let i=()=>{let[e,t]=(0,r.useState)(""),[s,l]=(0,r.useState)([]),n=async()=>{try{let e=await c.A.get("/posts/get_latest_posts");l(e.data)}catch(e){console.log(e)}};(0,r.useEffect)(()=>{n()},[]);let i=async s=>{s.preventDefault();try{let s=await c.A.post("/posts/post",{content:e});l(e=>[s.data,...e]),t("")}catch(e){alert("ログインしてください")}};return(0,a.jsx)("div",{className:"min-h-screen bg-gray-100",children:(0,a.jsxs)("main",{className:"container mx-auto py-4",children:[(0,a.jsx)("div",{className:"bg-white shadow-md rounded p-4 mb-4",children:(0,a.jsxs)("form",{onSubmit:i,children:[(0,a.jsx)("textarea",{className:"w-full h-24 p-2 border border-gray-300 rounded resize-none focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"What's on your mind?",onChange:e=>t(e.target.value),value:e}),(0,a.jsx)("button",{type:"submit",className:"mt-2 bg-gray-700 hover:bg-green-700 duration-200 text-white font-semibold py-2 px-4 rounded",children:"POST"})]})}),s.map(e=>(0,a.jsx)(o,{post:e},e.id))]})})}},8095:(e,t,s)=>{Promise.resolve().then(s.bind(s,4311))}},e=>{var t=t=>e(e.s=t);e.O(0,[464,874,441,684,358],()=>t(8095)),_N_E=e.O()}]);