(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{982:(e,t,s)=>{"use strict";s.d(t,{A:()=>n,AuthProvider:()=>u});var o=s(5155),a=s(2115),r=s(4205);let l=a.createContext({user:null,login:()=>{},logout:()=>{}}),n=()=>(0,a.useContext)(l),u=e=>{let{children:t}=e,[s,n]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=localStorage.getItem("auth_token");e&&(r.A.defaults.headers.Authorization="Bearer ".concat(e),r.A.get("/user/find").then(e=>{n(e.data.user)}).catch(e=>{console.log(e)}))},[]);let u=async e=>{localStorage.setItem("auth_token",e),r.A.defaults.headers.Authorization="Bearer ".concat(e),r.A.get("/users/find").then(e=>{n(e.data.user)}).catch(e=>{console.log(e)})};return(0,o.jsx)(l.Provider,{value:{login:u,logout:()=>{localStorage.removeItem("auth_token"),n(null),delete r.A.defaults.headers.Authorization},user:s},children:t})}},4205:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});let o=s(3464).A.create({baseURL:"http://localhost:5000/api",headers:{"Content-Type":"application/json"}})},5695:(e,t,s)=>{"use strict";var o=s(8999);s.o(o,"useRouter")&&s.d(t,{useRouter:function(){return o.useRouter}})},8007:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var o=s(5155),a=s(8126),r=s.n(a),l=s(2115),n=s(4205),u=s(5695),d=s(982);let i=()=>{let[e,t]=(0,l.useState)(""),[s,a]=(0,l.useState)(""),i=(0,u.useRouter)(),{login:c}=(0,d.A)(),m=async t=>{t.preventDefault();try{let t=(await n.A.post("/auth/login",{email:e,password:s})).data.token;c(t),i.push("/")}catch(e){alert("Incorrectly entered information"),console.log(e)}};return(0,o.jsxs)("div",{style:{height:"88vh"},className:"flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,o.jsx)(r(),{children:(0,o.jsx)("title",{children:"Login"})}),(0,o.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:(0,o.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Login to your accoutn"})}),(0,o.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,o.jsx)("div",{className:"bg-gray-50 py-8 px-4 shadow sm:rounded-lg sm:px-10",children:(0,o.jsxs)("form",{onSubmit:m,children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),(0,o.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,onChange:e=>t(e.target.value),value:e,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 text-base focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,o.jsxs)("div",{className:"mt-6",children:[(0,o.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,o.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,onChange:e=>a(e.target.value),value:s,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 text-base focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,o.jsx)("div",{className:"mt-6",children:(0,o.jsx)("button",{type:"submit",className:"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Login"})})]})})})]})}},8126:(e,t)=>{"use strict";function s(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8351:(e,t,s)=>{Promise.resolve().then(s.bind(s,8007))}},e=>{var t=t=>e(e.s=t);e.O(0,[464,441,684,358],()=>t(8351)),_N_E=e.O()}]);