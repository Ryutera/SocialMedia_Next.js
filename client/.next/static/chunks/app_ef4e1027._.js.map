{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/trtr/Desktop/socialmedia_next.js/client/app/lib/apiClient.ts"],"sourcesContent":["import axios from \"axios\"\n\n\nconst apiClient = axios.create({\n    baseURL: \"http://localhost:5000/api\",\n    headers: {\"Content-Type\" : \"application/json\" }\n})\n\nexport default apiClient"],"names":[],"mappings":";;;AAAA;;AAGA,MAAM,YAAY,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IAC3B,SAAS;IACT,SAAS;QAAC,gBAAiB;IAAmB;AAClD;uCAEe","debugId":null}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/trtr/Desktop/socialmedia_next.js/client/app/context/auth.tsx"],"sourcesContent":["\"use client\"\nimport React, { ReactNode, useContext, useEffect, useState } from \"react\"\nimport apiClient from \"../lib/apiClient\";\n\n\ninterface AuthProviderProps{\n    children: ReactNode;\n}\n\ninterface AuthContextType{\n    user: null | {id:number; email:string; username:string };\nlogin:(token:string)=> void;\nlogout:()=>void\n}\n\nconst AuthContext = React.createContext<AuthContextType>({\n    //初期値を何かしら設定しないとエラーになる\n    user: null,\n    login:()=>{},\n    logout:()=>{},\n\n})\n\nexport const useAuth= () =>{\n    return useContext(AuthContext)\n}\n\nexport const AuthProvider = ({children}:AuthProviderProps) =>{\n\n    const [user, setUser] = useState<null|{id:number; email:string; username:string }>(null)\n   \n\n    useEffect(()=>{\n        const token = localStorage.getItem(\"auth_token\")\n        if (token) {\n            apiClient.defaults.headers[\"Authorization\"] = `Bearer ${token}`\n            apiClient.get(\"/user/find\").then((res)=>{\n                setUser(res.data.user)\n            }).catch((err)=>{\n                console.log(err)\n            })\n        }\n\n    },[])\nconst login = async(token:string) =>{\n    localStorage.setItem(\"auth_token\", token)\n\n    apiClient.get(\"/users/find\").then((res)=>{\n        setUser(res.data.user)\n    }).catch((err)=>{\n        console.log(err)\n    })\n}\n\nconst logout = ()=>{\n    localStorage.removeItem(\"auth_token\")\n    setUser(null)\n   delete  apiClient.defaults.headers[\"Authorization\"]\n}\n\nconst value = {\n    login,\n    logout,\n    user\n}\n\nreturn (\n    <AuthContext.Provider value={value}>\n        {children}\n    </AuthContext.Provider>\n)\n}"],"names":[],"mappings":";;;;;AACA;AACA;;;AAFA;;;AAeA,MAAM,4BAAc,6JAAA,CAAA,UAAK,CAAC,aAAa,CAAkB;IACrD,sBAAsB;IACtB,MAAM;IACN,OAAM,KAAK;IACX,QAAO,KAAK;AAEhB;AAEO,MAAM,UAAS;;IAClB,OAAO,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;AACtB;GAFa;AAIN,MAAM,eAAe,CAAC,EAAC,QAAQ,EAAmB;;IAErD,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAoD;IAGnF,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACN,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,OAAO;gBACP,0HAAA,CAAA,UAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,gBAAgB,GAAG,CAAC,OAAO,EAAE,OAAO;gBAC/D,0HAAA,CAAA,UAAS,CAAC,GAAG,CAAC,cAAc,IAAI;8CAAC,CAAC;wBAC9B,QAAQ,IAAI,IAAI,CAAC,IAAI;oBACzB;6CAAG,KAAK;8CAAC,CAAC;wBACN,QAAQ,GAAG,CAAC;oBAChB;;YACJ;QAEJ;iCAAE,EAAE;IACR,MAAM,QAAQ,OAAM;QAChB,aAAa,OAAO,CAAC,cAAc;QAEnC,0HAAA,CAAA,UAAS,CAAC,GAAG,CAAC,eAAe,IAAI,CAAC,CAAC;YAC/B,QAAQ,IAAI,IAAI,CAAC,IAAI;QACzB,GAAG,KAAK,CAAC,CAAC;YACN,QAAQ,GAAG,CAAC;QAChB;IACJ;IAEA,MAAM,SAAS;QACX,aAAa,UAAU,CAAC;QACxB,QAAQ;QACT,OAAQ,0HAAA,CAAA,UAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,gBAAgB;IACtD;IAEA,MAAM,QAAQ;QACV;QACA;QACA;IACJ;IAEA,qBACI,6LAAC,YAAY,QAAQ;QAAC,OAAO;kBACxB;;;;;;AAGT;IA5Ca;KAAA","debugId":null}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///Users/trtr/Desktop/socialmedia_next.js/client/app/components/Navbar.tsx"],"sourcesContent":["\"use client\"\nimport Link from 'next/link'\nimport React from 'react'\nimport { useAuth } from '../context/auth'\n\n\nconst Navbar = () => {\n  const {user, logout} = useAuth()\n  return (\n    <>\n    <header className=\"bg-gray-700 p-4 text-white\">\n    <div className=\"container mx-auto flex justify-between items-center\">\n      <h1 className=\"font-semibold text-xl\">\n        <Link href=\"/\">SNS Clone</Link>\n      </h1>\n      <nav>\n        <ul className=\"flex space-x-4\">\n          {user? ( <>\n           <Link\n              href={`/profile${user.id}`}\n              className=\"bg-white text-gray-900 py-2 px-3 rounded-lg font-medium\"\n            >\n              Profile\n            </Link> \n           \n            <button\n             onClick={logout}\n              className=\"bg-white text-gray-900 py-2 px-3 rounded-lg font-medium\"\n            >\n              Logout\n            </button>\n          </>) :  ( <>\n           <Link\n              href=\"/login\"\n              className=\"bg-white text-gray-900 py-2 px-3 rounded-lg font-medium\"\n            >\n              Login\n            </Link> \n           \n            <Link\n              href=\"/signup\"\n              className=\"bg-white text-gray-900 py-2 px-3 rounded-lg font-medium\"\n            >\n              Signup\n            </Link>\n          </>)}\n         \n        </ul>\n      </nav>\n    </div>\n  </header>\n</>  \n  )\n}\n\nexport default Navbar"],"names":[],"mappings":";;;;AACA;AAEA;;;AAHA;;;AAMA,MAAM,SAAS;;IACb,MAAM,EAAC,IAAI,EAAE,MAAM,EAAC,GAAG,CAAA,GAAA,0HAAA,CAAA,UAAO,AAAD;IAC7B,qBACE;kBACA,cAAA,6LAAC;YAAO,WAAU;sBAClB,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCACZ,cAAA,6LAAC,+JAAA,CAAA,UAAI;4BAAC,MAAK;sCAAI;;;;;;;;;;;kCAEjB,6LAAC;kCACC,cAAA,6LAAC;4BAAG,WAAU;sCACX,qBAAQ;;kDACR,6LAAC,+JAAA,CAAA,UAAI;wCACF,MAAM,CAAC,QAAQ,EAAE,KAAK,EAAE,EAAE;wCAC1B,WAAU;kDACX;;;;;;kDAID,6LAAC;wCACA,SAAS;wCACR,WAAU;kDACX;;;;;;;6DAGO;;kDACT,6LAAC,+JAAA,CAAA,UAAI;wCACF,MAAK;wCACL,WAAU;kDACX;;;;;;kDAID,6LAAC,+JAAA,CAAA,UAAI;wCACH,MAAK;wCACL,WAAU;kDACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWb;GA/CM;;QACmB,0HAAA,CAAA,UAAO;;;KAD1B;uCAiDS","debugId":null}}]
}